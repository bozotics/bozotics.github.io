<!DOCTYPE html>
<!--
	Minimal Mistakes Jekyll Theme 4.19.2 by Michael Rose
	Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
	Free for personal and commercial use under the MIT license
	https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8" />

		<!-- begin _includes/seo.html -->
		<title>Design | Transcendence</title>
		<meta
			name="description"
			content="It was challenging to fit all our sensors into our circuit boards since we wanted a 20cm diameter robot, while keeping double layered wheels, double dribblers and a solenoid, which took up a lot of space. Here, we detail some design considerations for cramming our sensors and components in a small area."
		/>

		<meta property="og:type" content="article" />
		<meta property="og:locale" content="en_US" />
		<meta property="og:site_name" content="Transcendence" />
		<meta property="og:title" content="Design" />
		<meta
			property="og:url"
			content="https://bozo.infocommsociety.com/open/elec/design/"
		/>

		<meta
			property="og:description"
			content="It was challenging to fit all our sensors into our circuit boards since we wanted a 20cm diameter robot, while keeping double layered wheels, double dribblers and a solenoid, which took up a lot of space. Here, we detail some design considerations for cramming our sensors and components in a small area."
		/>

		<meta
			property="article:published_time"
			content="2020-05-02T08:00:00+08:00"
		/>

		<meta
			property="article:modified_time"
			content="2020-07-17T17:36:59+08:00"
		/>

		<link
			rel="canonical"
			href="https://bozo.infocommsociety.com/open/elec/design/"
		/>

		<script type="application/ld+json">
			{
				"@context": "https://schema.org",

				"@type": "Person",
				"name": null,
				"url": "https://bozo.infocommsociety.com/"
			}
		</script>

		<!-- end _includes/seo.html -->

		<link
			href="/feed.xml"
			type="application/atom+xml"
			rel="alternate"
			title="Transcendence Feed"
		/>

		<!-- https://t.co/dKP3o1e -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<script>
			document.documentElement.className =
				document.documentElement.className.replace(/\bno-js\b/g, "") + " js ";
		</script>

		<!-- For all browsers -->
		<link rel="stylesheet" href="/assets/css/main.css" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"
		/>

		<!--[if IE]>
			<style>
				/* old IE unsupported flexbox fixes */
				.greedy-nav .site-title {
					padding-right: 3em;
				}
				.greedy-nav button {
					position: absolute;
					top: 0;
					right: 0;
					height: 100%;
				}
			</style>
		<![endif]-->

		<!-- start custom head snippets -->

		<style>
			ul.visible-links li.masthead__menu-item a[href="/open/intro/"]:before {
				transform: scaleX(1);
			}

			ul.hidden-links li.masthead__menu-item a[href="/open/intro/"] {
				color: #fff;
				background: #0092ca;
			}
		</style>

		<!-- insert favicons. use https://realfavicongenerator.net/ -->
		<link rel="icon" href="/assets/images/eagle ver 2.1.3.1-lowres.jpg" />

		<!-- end custom head snippets -->
	</head>

	<body class="layout--single">
		<nav class="skip-links">
			<h2 class="screen-reader-text">Skip links</h2>
			<ul>
				<li>
					<a href="#site-nav" class="screen-reader-shortcut"
						>Skip to primary navigation</a
					>
				</li>
				<li>
					<a href="#main" class="screen-reader-shortcut">Skip to content</a>
				</li>
				<li>
					<a href="#footer" class="screen-reader-shortcut">Skip to footer</a>
				</li>
			</ul>
		</nav>

		<!--[if lt IE 9]>
			<div class="notice--danger align-center" style="margin: 0;">
				You are using an <strong>outdated</strong> browser. Please
				<a href="https://browsehappy.com/">upgrade your browser</a> to improve
				your experience.
			</div>
		<![endif]-->

		<div class="masthead">
			<div class="masthead__inner-wrap">
				<div class="masthead__menu">
					<nav id="site-nav" class="greedy-nav">
						<a class="site-logo" href="/"
							><img
								loading="lazy"
								src="/assets/images/eagle%20ver%202.1.3.1-transparent-lowres.png"
								alt=""
						/></a>

						<a class="site-title" href="/">
							Transcendence
							<span class="site-subtitle"
								>The fine line between innovation and insanity</span
							>
						</a>
						<ul class="visible-links">
							<li class="masthead__menu-item">
								<a href="/about/">About</a>
							</li>
							<li class="masthead__menu-item">
								<a href="/open/intro/">Open</a>
							</li>
							<li class="masthead__menu-item">
								<a href="/lightweight/intro/">Lightweight</a>
							</li>
							<li class="masthead__menu-item">
								<a href="/rescue/intro/">Rescue</a>
							</li>
							<li class="masthead__menu-item">
								<a href="/blog/">Blog</a>
							</li>
							<li class="masthead__menu-item">
								<a href="/contact/">Contact</a>
							</li>
							<li class="masthead__menu-item">
								<a href="/resources/">Resources</a>
							</li>
						</ul>

						<button class="search__toggle" type="button">
							<span class="visually-hidden">Toggle search</span>
							<svg
								class="icon"
								width="16"
								height="16"
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 15.99 16"
							>
								<path
									d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
									transform="translate(-.01)"
								></path>
							</svg>
						</button>

						<button class="greedy-nav__toggle hidden" type="button">
							<span class="visually-hidden">Toggle menu</span>
							<div class="navicon"></div>
						</button>
						<ul class="hidden-links hidden"></ul>
					</nav>
				</div>
			</div>
		</div>

		<div class="initial-content">
			<div id="main" role="main">
				<div class="sidebar sticky">
					<nav class="nav__list">
						<input id="ac-toc" name="accordion-toc" type="checkbox" />
						<label for="ac-toc">Toggle menu</label>
						<ul class="nav__items">
							<li>
								<a href="/open/intro/"
									><span class="nav__sub-title">Introduction</span></a
								>
							</li>

							<li>
								<a href="/open/mech/"
									><span class="nav__sub-title">Mechanical</span></a
								>

								<ul>
									<li><a href="/open/mech/general/">General Info</a></li>

									<li><a href="/open/mech/drive/">Drive System</a></li>

									<li><a href="/open/mech/mirror/">Mirror</a></li>

									<li><a href="/open/mech/dribbler/">Dribbler</a></li>

									<li><a href="/open/mech/assorted/">Assorted Parts</a></li>
								</ul>
							</li>

							<li>
								<a href="/open/elec/"
									><span class="nav__sub-title">Electronics</span></a
								>

								<ul>
									<li>
										<a href="/open/elec/design/" class="active">Design</a>
									</li>

									<li><a href="/open/elec/selection/">Selection Process</a></li>

									<li><a href="/open/elec/components/">Components</a></li>

									<li><a href="/open/elec/circuits/">Circuits</a></li>

									<li><a href="/open/elec/history/">History</a></li>

									<li><a href="/open/elec/soldering/">Soldering</a></li>
								</ul>
							</li>

							<li>
								<a href="/open/cam/"
									><span class="nav__sub-title">Camera</span></a
								>

								<ul>
									<li><a href="/open/cam/general/">General Info</a></li>

									<li><a href="/open/cam/track/">Tracking Algorithm</a></li>

									<li><a href="/open/cam/gui/">GUI</a></li>

									<li><a href="/open/cam/communication/">Communication</a></li>
								</ul>
							</li>

							<li>
								<a href="/open/strat/"
									><span class="nav__sub-title">Strategy</span></a
								>
							</li>

							<li>
								<a href="/open/debug/"
									><span class="nav__sub-title">Debugging</span></a
								>
							</li>

							<li>
								<a href="/open/afi/"><span class="nav__sub-title">AFI</span></a>
							</li>
						</ul>
					</nav>
				</div>

				<article
					class="page"
					itemscope
					itemtype="https://schema.org/CreativeWork"
				>
					<meta itemprop="headline" content="Design" />
					<meta
						itemprop="description"
						content="It was challenging to fit all our sensors into our circuit boards since wewanted a 20cm diameter robot, while keeping double layered wheels, doubledribblers and a solenoid, which took up a lot of space. Here, we detail somedesign considerations for cramming our sensors and components in a small area."
					/>
					<meta itemprop="datePublished" content="2020-05-02T08:00:00+08:00" />
					<meta itemprop="dateModified" content="2020-07-17T17:36:59+08:00" />

					<div class="page__inner-wrap">
						<header>
							<h1 id="page-title" class="page__title" itemprop="headline">
								Design
							</h1>
						</header>

						<section class="page__content" itemprop="text">
							<aside class="sidebar__right sticky">
								<nav class="toc">
									<header>
										<h4 class="nav__title">
											<i class="fas fa-bolt"></i> Design
										</h4>
									</header>
									<ul class="toc__menu">
										<li><a href="#components">Components</a></li>
										<li><a href="#positioning">Positioning</a></li>
										<li><a href="#trace-widths">Trace widths</a></li>
										<li>
											<a href="#reference-schematics">Reference Schematics</a>
										</li>
									</ul>
								</nav>
							</aside>

							<p>
								It was challenging to fit all our sensors into our circuit
								boards since we wanted a 20cm diameter robot, while keeping
								double layered wheels, double dribblers and a solenoid, which
								took up a lot of space. Here, we detail some design
								considerations for cramming our sensors and components in a
								small area.
							</p>

							<h2 id="components">Components</h2>

							<p>
								More details about the selection process can be found
								<a href="/open/elec/components">here</a>.
							</p>

							<details>
								<summary>Components List</summary>

								<!--- TODO: Add links to the component list --->

								<table>
									<thead>
										<tr>
											<th style="text-align: left;">Component</th>
											<th style="text-align: right;">Cost (SGD)</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td style="text-align: left;">
												<ins><em>Layer 1</em></ins>
											</td>
											<td style="text-align: right;"></td>
										</tr>
										<tr>
											<td style="text-align: left;">JMP-BE-3561 Motor × 4</td>
											<td style="text-align: right;">$480</td>
										</tr>
										<tr>
											<td style="text-align: left;">1040B Solenoid</td>
											<td style="text-align: right;">$5</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												VNH5019A Motor Driver × 4
											</td>
											<td style="text-align: right;">$8</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												ALS-PT19 Phototransistor × 40
											</td>
											<td style="text-align: right;">$4</td>
										</tr>
										<tr>
											<td style="text-align: left;">PMW3360 Mouse Sensor</td>
											<td style="text-align: right;">$10</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												<ins><em>Layer 2</em></ins>
											</td>
											<td style="text-align: right;"></td>
										</tr>
										<tr>
											<td style="text-align: left;">Revolectrix 3S Battery</td>
											<td style="text-align: right;">$20</td>
										</tr>
										<tr>
											<td style="text-align: left;">XA2212 820KV BLDC × 2</td>
											<td style="text-align: right;">$20</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												<ins><em>Layer 3</em></ins>
											</td>
											<td style="text-align: right;"></td>
										</tr>
										<tr>
											<td style="text-align: left;">Teensy 3.5</td>
											<td style="text-align: right;">$50</td>
										</tr>
										<tr>
											<td style="text-align: left;">STM32F103CBT6 × 2</td>
											<td style="text-align: right;">$6</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												Adafruit NXP Precision IMU
											</td>
											<td style="text-align: right;">$25</td>
										</tr>
										<tr>
											<td style="text-align: left;">Raspberry Pi 3B</td>
											<td style="text-align: right;">$45</td>
										</tr>
										<tr>
											<td style="text-align: left;">Raspberry Pi Camera V1</td>
											<td style="text-align: right;">$3</td>
										</tr>
										<tr>
											<td style="text-align: left;">HC-05 Bluetooth Module</td>
											<td style="text-align: right;">$5</td>
										</tr>
										<tr>
											<td style="text-align: left;">Hobbywing ESC × 2</td>
											<td style="text-align: right;">$20</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												<ins><em>Layer 4</em></ins>
											</td>
											<td style="text-align: right;"></td>
										</tr>
										<tr>
											<td style="text-align: left;">VL53L1X TOF × 4</td>
											<td style="text-align: right;">$30</td>
										</tr>
										<tr>
											<td style="text-align: left;">WS2812B Neopixel × 16</td>
											<td style="text-align: right;">$2</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												<ins><em>Others</em></ins>
											</td>
											<td style="text-align: right;"></td>
										</tr>
										<tr>
											<td style="text-align: left;">Carbon Fiber</td>
											<td style="text-align: right;">$26</td>
										</tr>
										<tr>
											<td style="text-align: left;">PCB (4 plates)</td>
											<td style="text-align: right;">$25</td>
										</tr>
										<tr>
											<td style="text-align: left;">Assorted Parts</td>
											<td style="text-align: right;">≈$60</td>
										</tr>
										<tr>
											<td style="text-align: left;">
												<ins><em>Total</em></ins>
											</td>
											<td style="text-align: right;">≈$850</td>
										</tr>
									</tbody>
								</table>
							</details>

							<h2 id="positioning">Positioning</h2>

							<p>
								While designing our PCB, we made sure to position “groups” of
								components close to each other. e.g. resistors for motor drivers
								are placed together with the driver. This ensured that traces
								for related parts did not run all over the circuit board, and
								simplified the designing process.
							</p>

							<p>
								We also ensured that these groups were placed close to the
								intended “destination”, e.g. the motor drivers were placed
								directly under the motors. This shortens cable runs and also
								ensures high current cables from the motors do not affect other
								data lines.
							</p>

							<p>
								Lastly, we ensured that the boost converter circuit, a very high
								powered circuit charging capacitors at up to 60v, was
								<a href="/open/elec/circuits/#positioning">placed far away</a>
								from our other components to prevent any accidents or
								interference from the switching action of the boost converter.
							</p>

							<figure style="margin-left: auto; margin-right: auto;">
								<img
									loading="lazy"
									src="/assets/images/pcb-layer1.png"
									alt="Grouping components"
									style="margin-left: auto; margin-right: auto;"
								/>

								<figcaption>
									Grouping components
								</figcaption>
							</figure>

							<h2 id="trace-widths">Trace widths</h2>

							<p>
								A major issue with
								<a href="/open/elec/history/#first-pcb"
									>our initial circuit boards</a
								>
								were the trace widths. We used the same thin trace width for
								everything from data lines to motor power, which is a really bad
								idea since ≈10A of current were running down traces rated for
								≈0.8A.
							</p>

							<p>
								Now, we utilise polygons / pours and thicker trace widths (40
								mils) for our high current traces e.g. motor and solenoid.
							</p>

							<p>
								High current traces running parallel to high speed signals or
								analog signals (from light sensors) can cause interference. This
								is especially so since we wanted to keep to a 2-layer PCB,
								meaning we could not rely on internal layers to separate data
								and power traces. Hence, to decrease the number of power traces
								throughout the PCB, high power lines are run through 18AWG
								wires.
							</p>

							<figure style="margin-left: auto; margin-right: auto;">
								<img
									loading="lazy"
									src="/assets/images/pcb-layer1-spaghetti.jpg"
									alt="Power Cables"
									style="margin-left: auto; margin-right: auto;"
								/>

								<figcaption>
									Power Cables
								</figcaption>
							</figure>

							<p>
								Although it looks ugly, it results in a more reliable circuit
								board as sudden braking / changing direction of the motor which
								causes a current spike will not affect surrounding analog
								circuits or interfere with communication signals.
							</p>

							<h2 id="reference-schematics">Reference Schematics</h2>

							<p>
								When we first shifted away from commercial off the shelf (COTS)
								components and breakout boards of ICs, we consulted the
								datasheets which contain a “recommended application schematic”
								most of the time, and simply use those to design our circuits.
							</p>

							<figure style="margin-left: auto; margin-right: auto;">
								<a href="https://www.ti.com/lit/ds/symlink/tps5430.pdf">
									<img
										loading="lazy"
										src="/assets/images/tps5430-application-sch.png"
										alt="TPS5430 Buck Converter Application Schematic"
										style="margin-left: auto; margin-right: auto;"
									/>
								</a>

								<figcaption>
									<a href="https://www.ti.com/lit/ds/symlink/tps5430.pdf">
										TPS5430 Buck Converter Application Schematic
									</a>
								</figcaption>
							</figure>

							<p>
								Sometimes, these COTS components we purchase from Taobao come
								with schematics as well, and if we are using the same IC
								<a href="/open/elec/selection/#selection"
									>(which we usually are)</a
								>
								we consult these schematics to design our circuits as well.
							</p>

							<figure style="margin-left: auto; margin-right: auto;">
								<img
									loading="lazy"
									src="/assets/images/adxl345-taobao-sch.png"
									alt="ADXL345 Accelerometer Taobao Schematic"
									style="margin-left: auto; margin-right: auto;"
								/>

								<figcaption>
									ADXL345 Accelerometer Taobao Schematic
								</figcaption>
							</figure>

							<p>
								Lastly, ICs we use are
								<a href="/open/elec/selection/#selection"
									>typically found in COTS components</a
								>
								from popular manufacturers like Sparkfun or Pololu, and these
								companies usually release their schematics, hence we can take
								those as reference when designing our circuits.
							</p>

							<figure style="margin-left: auto; margin-right: auto;">
								<a href="https://www.pololu.com/product/1451">
									<img
										loading="lazy"
										src="/assets/images/vnh5019-pololu-sch.png"
										alt="VNH5019 Motor Driver Pololu Schematic"
										style="margin-left: auto; margin-right: auto;"
									/>
								</a>

								<figcaption>
									<a href="https://www.pololu.com/product/1451">
										VNH5019 Motor Driver Pololu Schematic
									</a>
								</figcaption>
							</figure>
						</section>

						<footer class="page__meta">
							<p class="page__date">
								<i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i>

								<strong>Updated:</strong>
								<time datetime="2020-07-17">July 17, 2020</time>
							</p>
						</footer>

						<nav class="pagination">
							<a
								href="/open/elec/"
								class="pagination--pager"
								title="Electronics
"
								>Previous</a
							>

							<a
								href="/open/elec/selection/"
								class="pagination--pager"
								title="Selection Process
"
								>Next</a
							>
						</nav>
					</div>
				</article>
			</div>
		</div>

		<div class="search-content">
			<div class="search-content__inner-wrap">
				<form
					class="search-content__form"
					onkeydown="return event.key != 'Enter';"
				>
					<label class="sr-only" for="search">
						Enter your search term...
					</label>
					<input
						type="search"
						id="search"
						class="search-input"
						tabindex="-1"
						placeholder="Enter your search term..."
					/>
				</form>
				<div id="results" class="results"></div>
			</div>
		</div>

		<div id="footer" class="page__footer">
			<footer>
				<!-- start custom footer snippets -->

				<!-- end custom footer snippets -->
				<div class="page__footer-follow">
					<ul class="social-icons">
						<li><strong>Follow:</strong></li>

						<li>
							<a
								href="https://twitter.com/bozotics"
								rel="nofollow noopener noreferrer"
								><i
									class="fab fa-fw fa-twitter"
									style="color: white;"
									aria-hidden="true"
								></i>
								Twitter</a
							>
						</li>

						<li>
							<a
								href="https://facebook.com/Bozotics-113608380186713"
								rel="nofollow noopener noreferrer"
								><i
									class="fab fa-fw fa-facebook"
									style="color: white;"
									aria-hidden="true"
								></i>
								Facebook</a
							>
						</li>

						<li>
							<a
								href="https://github.com/bozotics"
								rel="nofollow noopener noreferrer"
								><i
									class="fab fa-fw fa-github"
									style="color: white;"
									aria-hidden="true"
								></i>
								GitHub</a
							>
						</li>

						<li>
							<a
								href="https://instagram.com/bozotics"
								rel="nofollow noopener noreferrer"
								><i
									class="fab fa-fw fa-instagram"
									style="color: white;"
									aria-hidden="true"
								></i>
								Instagram</a
							>
						</li>

						<li>
							<a href="/feed.xml"
								><i
									class="fas fa-fw fa-rss-square"
									style="color: white;"
									aria-hidden="true"
								></i>
								Feed</a
							>
						</li>
					</ul>
				</div>

				<div class="page__footer-copyright">
					&copy; 2020 Transcendence. Powered by
					<a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp;
					<a
						href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/"
						rel="nofollow"
						>Minimal Mistakes</a
					>.
				</div>
			</footer>
		</div>

		<script src="/assets/js/main.min.js"></script>

		<script src="/assets/js/lunr/lunr.min.js"></script>
		<script src="/assets/js/lunr/lunr-store.js"></script>
		<script src="/assets/js/lunr/lunr-en.js"></script>

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=UA-166112888-1"
		></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());

			gtag("config", "UA-166112888-1", { anonymize_ip: false });
		</script>

		<aside class="sidebar__top" id="topButton">
			<a href="#top"><i class="fas fa-angle-double-up fa-2x"></i></a>
		</aside>
		<script>
			/* When the user scrolls down 100px from the top of the document, show the button */
			$(window).scroll(function () {
				if ($(this).scrollTop() >= 100) {
					$("#topButton").fadeIn(200);
				} else {
					$("#topButton").fadeOut(200);
				}
			});
		</script>
	</body>
</html>
